{% extends 'base.html' %}
{% block title %}Notifications{% endblock %}

{% block content %}
<div class="dashboard-container">
  <!-- Sidebar -->
  <div class="sidebar">
    <h3>User Menu</h3>
    <ul>
      <li><a href="{{ url_for('user_items') }}">My Items</a></li>
      <li><a href="{{ url_for('my_trades') }}">My Trades</a></li>
      <li><a href="{{ url_for('credit_history') }}">Credit History</a></li>
      <li><a href="{{ url_for('notifications') }}" class="active">Notifications</a></li>
      <li><a href="{{ url_for('profile_settings') }}">Profile</a></li>
      <li><a href="{{ url_for('logout') }}">Logout</a></li>
    </ul>
  </div>

  <!-- Content Area -->
  <div class="content" style="flex: 1; padding: 40px;">
    <h2 style="margin-bottom: 30px;">ðŸ”” Notifications</h2>

    {% if notifications %}
      <div style="overflow-x: auto;">
        <table style="width: 100%; border-collapse: collapse; font-size: 0.95rem;">
          <thead style="background-color: #054e97; color: #fff;">
            <tr>
              <th style="padding: 12px; text-align: left;">#</th>
              <th style="padding: 12px; text-align: left;">Message</th>
              <th style="padding: 12px; text-align: left;">Date</th>
            </tr>
          </thead>
          <tbody>
            {% for note in notifications %}
            <tr class="{% if loop.index0 % 2 == 0 %}even-row{% else %}odd-row{% endif %}">
              <td style="padding: 12px;">{{ loop.index }}</td>
              <td style="padding: 12px;">{{ note.message }}</td>
              <td style="padding: 12px;">{{ note.timestamp.strftime('%Y-%m-%d %H:%M') }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <div style="padding: 20px; background-color: #f8f9fa; border: 1px solid #ddd; border-radius: 6px;">
        No new notifications.
      </div>
    {% endif %}
  </div>
</div>

<style>
  .dashboard-container {
    display: flex;
    min-height: 100vh;
    background-color: #f8f9fa;
    font-family: 'Segoe UI', sans-serif;
  }

  .sidebar {
    width: 240px;
    background: #054e97;
    color: white;
    padding: 30px 20px;
  }

  .sidebar h3 {
    font-size: 1.2rem;
    margin-bottom: 30px;
    text-align: center;
    color: #fff;
  }

  .sidebar ul {
    list-style: none;
    padding: 0;
  }

  .sidebar li {
    margin: 15px 0;
  }

  .sidebar a {
    color: #adb5bd;
    text-decoration: none;
    display: block;
    padding: 10px;
    border-radius: 5px;
    transition: 0.3s;
  }

  .sidebar a:hover,
  .sidebar a.active {
    background-color: #ff7a00;
    color: rgb(255, 255, 255);
  }
  .even-row {
    background-color: #f9f9f9;
  }
  .odd-row {
    background-color: #fff;
  }
</style>
{% endblock %}
